<Page
    x:Class="UWPCommunity.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UWPCommunity"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Windows10version1809="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract, 7)"
    xmlns:Windows10version1903="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract, 8)"
    mc:Ignorable="d"
    Background="{ThemeResource SystemControlAcrylicWindowBrush}">

    <NavigationView x:Name="MainNav" Windows10version1809:PaneDisplayMode="Top" IsBackButtonVisible="Collapsed"
                    SelectionChanged="NavigationView_SelectionChanged" BackRequested="MainNav_BackRequested" >

        <Windows10version1809:NavigationView.PaneHeader>
            <Viewbox Margin="0,5,0,5">
                <StackPanel Orientation="Horizontal">
                    <Viewbox Height="120" Width="120">
                        <FontIcon Glyph="🐱‍🏍" FontFamily="Segoe UI Emoji"/>
                    </Viewbox>
                    
                    <StackPanel>
                        <TextBlock Text="UWP" FontSize="60" FontWeight="Bold"/>
                        <TextBlock Text="Community" FontSize="40" Margin="0,-15,0,0"/>
                    </StackPanel>
                </StackPanel>
            </Viewbox>
        </Windows10version1809:NavigationView.PaneHeader>
        
        <NavigationView.MenuItemTemplate>
            <DataTemplate x:DataType="local:PageInfo">
                <NavigationViewItem Content="{x:Bind Title}" Icon="{x:Bind Icon}"
                                    Visibility="{x:Bind Visibility}"/>
            </DataTemplate>
        </NavigationView.MenuItemTemplate>
        <!--NavigationView.MenuItems>
            <NavigationViewItem Icon="Home" Content="Home"/>
            <NavigationViewItem Icon="Library" Content="Projects"/>
            <NavigationViewItem Content="Launch">
                <NavigationViewItem.Icon>
                    <FontIcon Glyph="&#xF3B3;" FontFamily="Assets/FabricMDL2Assets.ttf#Assets/FabricMDL2Assets.ttf#Fabric External MDL2 Assets"/>
                </NavigationViewItem.Icon>
            </NavigationViewItem>
            
            <NavigationViewItem x:Name="DashboardNavItem" Content="Dashboard" Visibility="Collapsed">
                <NavigationViewItem.Icon>
                    <FontIcon Glyph="&#xF246;"/>
                </NavigationViewItem.Icon>
            </NavigationViewItem>
        </NavigationView.MenuItems-->

        <NavigationView.PaneFooter>

            <Grid>
                <Button x:Name="SignInButton" x:Load="True"
                        Click="SignInButton_Click"
                        Content="Sign in" Style="{ThemeResource AccentButtonStyle}"/>

                <Button x:Name="UserButton" x:Load="False" Background="Transparent">
                    <Button.Content>
                        <Viewbox>
                            <PersonPicture x:Name="UserProfilePicture" PreferSmallImage="True"/>
                        </Viewbox>
                    </Button.Content>

                    <Button.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem Text="Edit Profile" Click="EditProfileButton_Click">
                                <MenuFlyoutItem.Icon>
                                    <FontIcon FontFamily="Assets/FabricMDL2Assets.ttf#Fabric External MDL2 Assets" Glyph="&#xEFD3;" />
                                </MenuFlyoutItem.Icon>
                            </MenuFlyoutItem>
                            <MenuFlyoutItem Text="Log out" Click="SignOutButton_Click">
                                <MenuFlyoutItem.Icon>
                                    <FontIcon Glyph="&#62385;"/>
                                </MenuFlyoutItem.Icon>
                            </MenuFlyoutItem>
                        </MenuFlyout>

                    </Button.Flyout>
                </Button>
            </Grid>
        </NavigationView.PaneFooter>

        <Frame x:Name="MainFrame"/>

    </NavigationView>
</Page>
